var I=Object.defineProperty,B=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var y=(a,s,t)=>s in a?I(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,j=(a,s)=>{for(var t in s||(s={}))F.call(s,t)&&y(a,t,s[t]);if(V)for(var t of V(s))N.call(s,t)&&y(a,t,s[t]);return a},x=(a,s)=>B(a,E(s));import{J as R}from"./Label.fb57189b.js";import{I as S}from"./InertiaButton.8ae24674.js";import{J as M}from"./InputError.c5ba6892.js";import{K as P,e as n,o as p,f as L,w as d,x as o,g as l,n as i,C as K,k,B as O,F as Y,i as b}from"./vendor.07ccac9c.js";import{a as z,b as D,J as H}from"./JigTab.25d6c934.js";import{J as q}from"./Checkbox.2a402c75.js";import{J as G,a as Q}from"./JigTextarea.b7507d0e.js";import{J as W}from"./Input.81968ebc.js";import{_ as X}from"./plugin-vue_export-helper.5a098b48.js";import"./vue-flatpickr.min.52f9a78a.js";import"./main.f117162e.js";const Z={name:"EditUsersForm",props:{model:Object,roles:Object},components:{InertiaButton:S,JetLabel:R,JetInputError:M,JetInput:W,JigDatepicker:G,JetCheckbox:q,JigTextarea:Q,JigTabLink:z,JigTabs:D,JigTab:H},data(){return{form:P(x(j({},this.model),{assigned_roles:this.roles,password_confirmation:null}),{remember:!1}),activeTab:"basic-info",tabActiveClasses:"bg-primary font-bold text-secondary rounded-t-lg hover:bg-primary-500"}},mounted(){},computed:{flash(){return this.$page.props.flash||{}}},methods:{async updateModel(){this.form.put(this.route("admin.users.update",this.form.id),{onSuccess:a=>{this.flash.success?this.$emit("success",this.flash.success):this.flash.error?this.$emit("error",this.flash.error):this.$emit("error","Unknown server error.")},onError:a=>{this.$emit("error","A server error occurred")}},{remember:!1,preserveState:!0})},async toggleRole(a){const s=this;axios.post(this.route("api.users.assign-role",this.form.id),{role:a}).then(t=>{this.$inertia.reload({preserveState:!0}),this.displayNotification("success",t.data.message)}).catch(t=>{var u,e;this.displayNotification("error",((e=(u=t.response)==null?void 0:u.data)==null?void 0:e.message)||t.message||t),s.form.assigned_roles[a.name].checked=!a.checked})}}},$=b("Basic Info "),ee=b("Assign Roles "),se={class:"sm:col-span-4"},oe={class:"sm:col-span-4"},re={class:"sm:col-span-4"},te={class:"sm:col-span-4"},ae={class:"sm:col-span-4"},le={class:"sm:col-span-4"},ie={class:"sm:col-span-4"},me={class:"sm:col-span-4"},ne={class:"sm:col-span-4"},ce={class:"mt-2 text-right"},de=b("Submit"),fe={class:"my-2 border rounded-md p-3"},ue=l("h3",{class:"font-bold py-3 text-lg"},"Assign Roles",-1),_e=l("hr",null,null,-1),pe={class:"p-2 mt-2 border rounded"};function be(a,s,t,u,e,_){const g=n("jig-tab-link"),m=n("jet-label"),f=n("jet-input"),c=n("jet-input-error"),v=n("jig-textarea"),J=n("jig-datepicker"),T=n("inertia-button"),h=n("jig-tab"),U=n("jet-checkbox"),C=n("jig-tabs");return p(),L(C,{class:i("border-none"),"nav-classes":"bg-secondary-300 rounded-t-lg border-b-4 border-primary"},{nav:d(()=>[o(g,{onActivate:s[0]||(s[0]=r=>e.activeTab=r),"active-classes":e.tabActiveClasses,"tab-controller":e.activeTab,tab:"basic-info"},{default:d(()=>[$]),_:1},8,["active-classes","tab-controller"]),o(g,{onActivate:s[1]||(s[1]=r=>e.activeTab=r),"active-classes":e.tabActiveClasses,"tab-controller":e.activeTab,tab:"assign-roles"},{default:d(()=>[ee]),_:1},8,["active-classes","tab-controller"])]),content:d(()=>[o(h,{name:"basic-info","tab-controller":e.activeTab},{default:d(()=>[l("form",{onSubmit:s[11]||(s[11]=K((...r)=>_.updateModel&&_.updateModel(...r),["prevent"]))},[l("div",se,[o(m,{for:"name",value:"Name"}),o(f,{class:i(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.name}]),type:"text",id:"name",name:"name",modelValue:e.form.name,"onUpdate:modelValue":s[2]||(s[2]=r=>e.form.name=r)},null,8,["modelValue","class"]),o(c,{message:e.form.errors.name,class:"mt-2"},null,8,["message"])]),l("div",oe,[o(m,{for:"email",value:"Email"}),o(f,{class:i(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.email}]),type:"text",id:"email",name:"email",modelValue:e.form.email,"onUpdate:modelValue":s[3]||(s[3]=r=>e.form.email=r)},null,8,["modelValue","class"]),o(c,{message:e.form.errors.email,class:"mt-2"},null,8,["message"])]),l("div",re,[o(m,{for:"password",value:"Password"}),o(f,{class:i(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.password}]),type:"password",id:"password",name:"password",modelValue:e.form.password,"onUpdate:modelValue":s[4]||(s[4]=r=>e.form.password=r)},null,8,["modelValue","class"]),o(c,{message:e.form.errors.password,class:"mt-2"},null,8,["message"])]),l("div",te,[o(m,{for:"password_confirmation",value:"Repeat Password"}),o(f,{class:i(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.password_confirmation}]),type:"password",id:"password_confirmation",name:"password_confirmation",modelValue:e.form.password_confirmation,"onUpdate:modelValue":s[5]||(s[5]=r=>e.form.password_confirmation=r)},null,8,["modelValue","class"])]),l("div",ae,[o(m,{for:"profile_photo_path",value:"Profile Photo Path"}),o(f,{class:i(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.profile_photo_path}]),type:"text",id:"profile_photo_path",name:"profile_photo_path",modelValue:e.form.profile_photo_path,"onUpdate:modelValue":s[6]||(s[6]=r=>e.form.profile_photo_path=r)},null,8,["modelValue","class"]),o(c,{message:e.form.errors.profile_photo_path,class:"mt-2"},null,8,["message"])]),l("div",le,[o(m,{for:"two_factor_secret",value:"Two Factor Secret"}),o(v,{class:i(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.two_factor_secret}]),id:"two_factor_secret",name:"two_factor_secret",modelValue:e.form.two_factor_secret,"onUpdate:modelValue":s[7]||(s[7]=r=>e.form.two_factor_secret=r)},null,8,["modelValue","class"]),o(c,{message:e.form.errors.two_factor_secret,class:"mt-2"},null,8,["message"])]),l("div",ie,[o(m,{for:"two_factor_recovery_codes",value:"Two Factor Recovery Codes"}),o(v,{class:i(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.two_factor_recovery_codes}]),id:"two_factor_recovery_codes",name:"two_factor_recovery_codes",modelValue:e.form.two_factor_recovery_codes,"onUpdate:modelValue":s[8]||(s[8]=r=>e.form.two_factor_recovery_codes=r)},null,8,["modelValue","class"]),o(c,{message:e.form.errors.two_factor_recovery_codes,class:"mt-2"},null,8,["message"])]),l("div",me,[o(m,{for:"email_verified_at",value:"Email Verified At"}),o(J,{class:i(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.email_verified_at}]),"data-date-format":"Y-m-d H:i:s","data-alt-input":!0,"data-alt-format":"l M J, Y at h:i K","data-default-hour":"9","data-enable-time":!0,name:"email_verified_at",modelValue:e.form.email_verified_at,"onUpdate:modelValue":s[9]||(s[9]=r=>e.form.email_verified_at=r),id:"email_verified_at"},null,8,["modelValue","class"]),o(c,{message:e.form.errors.email_verified_at,class:"mt-2"},null,8,["message"])]),l("div",ne,[o(m,{for:"current_team_id",value:"Current Team Id"}),o(f,{class:i(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.current_team_id}]),type:"text",id:"current_team_id",name:"current_team_id",modelValue:e.form.current_team_id,"onUpdate:modelValue":s[10]||(s[10]=r=>e.form.current_team_id=r)},null,8,["modelValue","class"]),o(c,{message:e.form.errors.current_team_id,class:"mt-2"},null,8,["message"])]),l("div",ce,[o(T,{type:"submit",class:"bg-primary font-semibold text-white",disabled:e.form.processing},{default:d(()=>[de]),_:1},8,["disabled"])])],32)]),_:1},8,["tab-controller"]),o(h,{name:"assign-roles","tab-controller":e.activeTab},{default:d(()=>[l("div",fe,[ue,_e,l("div",pe,[(p(!0),k(Y,null,O(e.form.assigned_roles,(r,A)=>(p(),k("div",{style:{cursor:"pointer"},key:A,class:"sm:col-span-4 px-10 flex border-b border-gray-100 justify-between py-3 items-center my-2"},[o(m,{for:r.name,class:"inline-block font-black text-xl",value:r.title},null,8,["for","value"]),o(U,{onChange:w=>_.toggleRole(r),class:i(["p-2 inline-block",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.assigned_roles}]),type:"checkbox",id:r.name,name:r.name,checked:r.checked,modelValue:r.checked,"onUpdate:modelValue":w=>r.checked=w},null,8,["onChange","id","name","checked","modelValue","onUpdate:modelValue","class"])]))),128))])])]),_:1},8,["tab-controller"])]),_:1})}var Ce=X(Z,[["render",be]]);export{Ce as default};
